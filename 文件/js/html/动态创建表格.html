<!doctype html>
<html>
 <head>
  <meta charset="GB2312">
  <script>
	var data=[
		{"id":1001,"name":'可口可乐',"price":2.5,"count":3000},
		{"id":1003,"name":'百事可乐',"price":2.5,"count":5000},
		{"id":1011,"name":'非常可乐',"price":2.3,"count":1000}
	];
	
	onload=function(){
		var tbody=document.querySelector("#data table tbody");
		for(var i=0;i<data.length;i++){
			var tr=tbody.insertRow();
			for(var key in data[i]){
				var td=tr.insertCell();
				td.innerHTML=key!="price"?data[i][key]:"&yen"+data[i][key].toFixed(2);
				td.style.textAlign="center";
			}
			//遍历完当前对象所有属性后,添加删除按钮列
			var td=tr.insertCell(4);
			td.style.textAlign="center";
			var btn=document.createElement("input");
			btn.onclick=function(){
				/*这个必须通过table来删除
				var index=this.parentNode.parentNode.rowIndex;
				document.querySelector("#data table").deleteRow(index);*/
				
				var tr=this.parentNode.parentNode;
				confirm("是否想要删除商品："+tr.cells[1].innerHTML)&&tr.parentNode.removeChild(tr);
			};
			btn.type="button";
			btn.value="删除";
			td.appendChild(btn);
		}
	}
  </script>
  <style type="text/css">
	table {
		width:500px;
		border-collapse:collapse;
		border:1px solid #ccc;
	}
	th,td {
		border:1px solid #ccc;
	}
  </style>
  <title>Document</title>
 </head>
 <body>
	<div id="data">
		<table>
			<thead>
				<tr>
					<th>编号</th>
					<th>名称</th>
					<th>单价</th>
					<th>数量</th>
					<th>操作</th>
				</tr>
			</thead>
			<tbody>
				
			</tbody>
		<table>
	</div>
 </body>
</html>
