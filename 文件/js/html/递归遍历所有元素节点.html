<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <script>
	var blanks=[];
	/*function getChildNodes(parent){
		console.log(blanks.join("")+(parent.nodeType!=3?parent.nodeName:parent.nodeValue));
		if(parent.childNodes/*children.length>0){
			/*blanks.push("\t");
			for(var i=0,len=parent.childNodes/*children.length;i<len;i++){
				/*getChildNodes(parent.childNodes/*children[i]);
			/*}
			blanks.pop();
		}
	}*/
	
	function getChildNodes(parent){
		//创建NodeIterator对象
		var iterator=document.createNodeIterator(
			parent,
			NodeFilter.SHOW_ALL,
			null,
			false
		);
		//使用循环调用iterator.nextNode(),每次调用,都会返回下一个节点,直到返回null
		var currNode=null;  //用来接收每次循环遍历到的元素
		while((currNode=iterator.nextNode())!=null){
			console.log(blanks.join("")+(currNode.nodeType!=3?currNode.nodeName:currNode.nodeValue));
			/*if(currNode.childNodes.length>0){
				blanks.push("\t");
			}else{
				blanks.pop();	
			}*/
		}
	}
  </script>
 </head>
 <body>
	<span>这是第一个标签</span>
	<ul>
		<li>这是第一个li</li>
		<li>这是第一个li</li>
		<li>这是第一个li
			<ul>
				<li>这个是里面的li</li>
				<li>这个是里面的li</li>
				<li>这个是里面的li</li>
			</ul>
		</li>
		<li>这是第一个li</li>
	</ul>
	<input type="button" value="点击显示" onclick="getChildNodes(document)" />
 </body>
</html>
